# 缓存管理

​	基础包中提供数据缓存功能，可通过配置缓存块，将需要缓存的数据统一管理，并在表单数据更新时联动更新缓存。

​	![](.\image\缓存管理-001.png)

![](.\image\缓存管理-002.png)



缓存配置：

定义缓存块名称，缓存大小，缓存分组（同一分组下的缓存发生变更时会重建相关的缓存块）

![](.\image\缓存管理-003.png)

例如：对表单模型的数据进行缓存，可指定缓存块名称为模型ID，容量：200，缓存分组#ModeData#_模型ID

,（#ModeData#_模型ID 是表单数据默认的缓存块名称，表单数据发生变更时，会更新相应缓存分组的更新时间）

![](.\image\缓存管理-004.png)

初始化缓存：对配置的缓存块进行初始化设置，一般在新增缓存配置未生效时操作，默认情况下会在缓存服务启动时进行初始化。

缓存的使用代码实例：

```
//获取缓存数据
Form mappingForm = IBasicCacheMgr.get().getCacheData(mappingModel, mappingCode, Form.class);
if(mappingForm == null) {
	mappingForm = IFormMgr.get().queryFormByCode(input.getRtx().getDao(), mappingModel, mappingCode);
	if(mappingForm == null)
		 throw new VerifyException("数据映射["+mappingCode+"]不存在！");
	//缓存数据
	IBasicCacheMgr.get().cacheData(mappingModel, mappingCode, mappingForm);
}
```

